# 大数运算库 (Big-integer-arithmetic Library)

## 项目概述

这是一个用C语言实现的大数运算库，支持任意长度的整数进行加、减、乘、除四种基本运算。项目采用万进制（每四位十进制数作为一个存储单元）来高效存储和运算大数，并实现了多种优化算法以提高性能。

## 功能特性

### 1. 基本运算
- **加法**：支持任意长度整数加法
- **减法**：支持任意长度整数减法，自动处理正负号
- **乘法**：实现三种乘法算法：
  - 普通乘法（基础算法）
  - Karatsuba算法（递归分治优化）
  - NTT（数论变换）算法（高性能乘法,目前还在设计和完善中）
- **除法**：实现两种除法算法：
  - 普通长除法
  - 牛顿迭代法（快速求倒数）

### 2. 技术特点
- **高效存储结构**：使用块状链表结构存储大数，每块存储4位十进制数（万进制）
- **内存管理**：动态内存分配与释放，避免内存泄漏，使用链表储存大数，能兼容碎片化的内存环境
- **编码支持**：控制台支持UTF-8编码
- **文件I/O**：支持从文件读取大数和输出结果

## 项目结构

```
Big_integer_arithmetic/
├── CMakeLists.txt              # CMake 构建配置文件
├── build/                      # 编译输出目录
├── include/                    # 头文件目录
│   └── main.h                  # 主头文件（包含所有函数声明和数据结构定义）
├── src/                        # 源代码目录
│   ├── main.c                  # 主程序文件（包含主函数和主要运算逻辑）
│   ├── list.c                  # 链表相关操作实现
│   ├── num.c                   # 大数基本操作实现
│   └── ntt.c                   # NTT（数论变换）算法辅助
├── test/                       # 测试数据目录
│   └── Num_1shiwan.txt
│   └── ...
└── output/                     # 程序输出目录
    └── answer.txt              # 运算结果输出文件
    └── ...
```

## 使用方法

### 1. 输入大数
程序支持两种输入方式：

**方式一：文件输入（默认）**
```c
FILE *fp = fopen("test\\Num_1shiwan.txt","r");
Num num_1 = fgetNum(fp);
```

**方式二：控制台输入**
```c
printf("请输入两个大数：\n");
Num num_1 = getNum();
Num num_2 = getNum();
```

### 2. 选择运算
程序运行后会提示选择运算类型：
```
请输入您想要进行的运算：(+-*/)
```
输入对应的运算符即可进行相应运算。

### 3. 查看结果
运算结果会：
- 在控制台显示
- 保存到 `output/answer.txt` 文件中

## 性能特点

### 整数表示范围
- **int**：最大10位数字（2147483647）
- **long long**：最大19位数字（9223372036854775807）
- **本库**：理论上无限制，受内存大小约束

## 扩展与优化

### 可扩展功能
1. **模运算**：添加模幂运算、模逆运算
2. **位运算**：支持大数的位操作
3. **比较运算**：添加大于、小于、等于等比较操作
4. **输入验证**：增强输入验证和错误处理

### 性能优化
1. **并行计算**：利用多线程加速乘法运算
2. **内存池**：实现自定义内存分配器减少malloc调用
3. **缓存优化**：优化数据结构提高缓存命中率

## 故障排除

### 调试提示
程序包含多个调试输出点，可以通过取消注释相关代码进行调试：
```c
// 调试输出示例
printf("测试点1：准备工作是否正确？\n");
printUnionNum(pnum_1);
```

欢迎提交问题和改进建议。
本项目仅供学习交流使用。

---

**作者**：浙江大学学生-绿意不息  
**版本**：1.0  
**此版本代码完成时间**：2025年10月中下旬
**更新日期**：2026年1月1日整理更新
