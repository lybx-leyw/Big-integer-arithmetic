# 大数运算库 (Big-integer-arithmetic Library)

## 项目概述

这是一个用C语言实现的大数运算库，支持任意长度的整数进行加、减、乘、除四种基本运算。项目采用万进制（每四位十进制数作为一个存储单元）来高效存储和运算大数，并实现了多种优化算法以提高性能。

## 技术演进

### 第一代：基础实现（2025年9月）
2025年9月20日，在老师的建议下正式开始大数运算项目。  
- 采用十进制链表存储，完成基础四则运算  
- 万级大数乘法耗时数小时，性能瓶颈明显  

### 第二代：万进制优化（2025年9月-10月）
创建“新版”文件夹，将十进制改为万进制，效率提升4倍。  
- 实现Karatsuba卷积乘法，效率提升数十倍  
- 六万位大数乘法优化到0.7秒左右  
- 尝试Burnikel-Ziegler算法（规范化问题待解决）  
- 初步实现Newton迭代除法（当时不稳定）

### 第三代：高级算法探索（2025年10月-11月）
创建“最终版本”文件夹，建立完整报错机制，在一次次debug中优化。  
- 实现稳定的Newton迭代除法  
- 开始研究更高深乘法算法

在文档“最终版本PLUS版本”中：  
- 实现DFT乘法，发现单模数限制（仅支持40位以内）  
- 研读中国剩余定理，实现多模数DFT雏形  
- 进一步优化至NTT乘法雏形

### 第四代：工程化整理与开源（2026年1月）
PLUS版本仅实现多模数DFT雏形，认识到优化空间巨大，进取无止境，暂时转向其他领域学习。  
2026年1月1日，在掌握更高级的编译本领后，在VSCode中重新整理项目并开源。

（演进过程的文件结构可参见docs文件夹）

## 功能特性

### 1. 基本运算
- **加法**：支持任意长度整数加法
- **减法**：支持任意长度整数减法，自动处理正负号
- **乘法**：实现三种乘法算法：
  - 普通乘法（基础算法）
  - Karatsuba算法（递归分治优化）
  - NTT（数论变换）算法（高性能乘法，持续优化中）
- **除法**：实现两种除法算法：
  - 普通长除法
  - 牛顿迭代法（快速求倒数）

### 2. 技术特点
- **高效存储结构**：万进制块状链表存储，每块4位十进制数
- **智能内存管理**：动态内存分配与释放，兼容碎片化内存环境
- **完整错误处理**：健全的报错机制和边界检查
- **跨平台支持**：纯C语言实现，控制台支持UTF-8编码
- **文件I/O支持**：支持从文件读取大数和输出结果

## 项目结构

```
Big_integer_arithmetic/
├── CMakeLists.txt              # CMake构建配置
├── build/                      # 编译输出目录
├── include/                    # 头文件目录
│   └── main.h                  # 主头文件（函数声明和数据结构定义）
├── src/                        # 源代码目录
│   ├── main.c                  # 主程序文件（运算逻辑和用户接口）
│   ├── list.c                  # 链表操作实现
│   ├── num.c                   # 大数基本操作实现
│   └── ntt.c                   # NTT（数论变换）算法辅助
├── test/                       # 测试数据目录
│   └── Num_1shiwan.txt
│   └── ...
└── output/                     # 程序输出目录
    └── answer.txt              # 运算结果输出文件
    └── ...
```

## 使用方法

### 1. 输入大数
程序支持两种输入方式：

**方式一：文件输入（默认）**
```c
FILE *fp = fopen("test\\Num_1shiwan.txt","r");
Num num_1 = fgetNum(fp);
```

**方式二：控制台输入**
```c
printf("请输入两个大数：\n");
Num num_1 = getNum();
Num num_2 = getNum();
```

### 2. 选择运算
程序运行后会提示选择运算类型：
```
请输入您想要进行的运算：(+-*/)
```
输入对应的运算符即可进行相应运算。

### 3. 查看结果
运算结果会：
- 在控制台显示
- 保存到 `output/answer.txt` 文件中

## 性能特点

### 整数表示范围
- **int**：最大10位数字（2147483647）
- **long long**：最大19位数字（9223372036854775807）
- **本库**：理论上无限制，受内存大小约束

---

欢迎大家提交问题和改进建议。  
本项目仅供学习交流使用。

---
**作者**：浙江大学学生-绿意不息  
**版本**：1.0  
**核心代码完成时间**：2025年11月4日  
**开源发布时间**：2026年1月1日  
**文档更新时间**：2026年1月3日
