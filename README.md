# 大整数运算库

## 项目概述

这是一个用C语言实现的大整数运算库，支持任意长度整数的四则运算（加、减、乘、除）。项目采用万进制（每四位十进制数字存储为一个单位）来高效存储和计算大数，并实现了多种优化算法以提升性能。

## 技术演进

### 第一代：基础实现（2025年9月）
2025年9月20日，在老师的建议下正式启动大整数运算项目。
- 使用十进制链表存储，完成了基础的四则运算
- 万位数乘法需要数分钟，性能瓶颈明显

### 第二代：万进制优化（2025年9月-10月）
创建"新版"文件夹，从十进制转为万进制，效率提升4倍。
- 实现Karatsuba卷积乘法，效率提升数十倍
- 优化六万位数乘法至约0.7秒
- 尝试Burnikel-Ziegler算法（归一化问题待解决）
- 初步实现牛顿迭代除法（当时不稳定）

### 第三代：高级算法探索（2025年10月-11月）
创建"最终版"文件夹，建立完整的错误报告机制，通过持续调试优化。
- 实现稳定的牛顿迭代除法
- 开始研究更先进的乘法算法

在"最终版PLUS版本"文档中：
- 实现DFT乘法，发现单模数限制（仅支持最多40位）
- 学习中国剩余定理，实现多模数DFT原型
- 进一步优化为NTT乘法原型

### 第四代：工程化组织与开源（2026年1月）
PLUS版本仅实现了多模数DFT原型。认识到巨大的优化空间且进步无止境，暂时转向其他领域学习。
2026年1月1日，在掌握更高级的编译技能后，在VSCode中重新组织项目并开源。

（演进过程中的文件结构可在README附录中查看）

## 功能特性

### 1. 基本运算
- **加法**：支持任意长度整数的加法运算
- **减法**：支持任意长度整数的减法运算，自动处理符号
- **乘法**：实现三种乘法算法：
  - 普通乘法（基础算法）
  - Karatsuba算法（递归分治优化）
  - NTT（数论变换）算法（高性能乘法，持续优化中）
- **除法**：实现两种除法算法：
  - 普通长除法
  - 牛顿迭代法（快速倒数计算）

### 2. 技术特点
- **高效存储结构**：万进制块链表存储，每块4位十进制数字
- **智能内存管理**：动态内存分配与释放，兼容碎片化内存环境
- **完整错误处理**：健全的错误报告机制和边界检查
- **跨平台支持**：纯C实现，控制台支持UTF-8编码
- **文件I/O支持**：支持从文件读取大数并输出结果

## 项目结构

```
Big_integer_arithmetic/
├── CMakeLists.txt              # CMake构建配置
├── build/                      # 编译输出目录
├── include/                    # 头文件目录
│   └── main.h                  # 主头文件（函数声明和数据结构定义）
├── src/                        # 源代码目录
│   ├── main.c                  # 主程序文件（操作逻辑和用户界面）
│   ├── list.c                  # 链表操作实现
│   ├── num.c                   # 大数基本操作实现
│   └── ntt.c                   # NTT（数论变换）算法辅助
├── test/                       # 测试数据目录
│   └── Num_1shiwan.txt
│   └── ...
└── output/                     # 程序输出目录
    └── answer.txt              # 运算结果输出文件
    └── ...
```

## 使用方法

### 1. 输入大数
程序支持两种输入方式：

**方式一：文件输入（默认）**
```c
FILE *fp = fopen("test\\Num_1shiwan.txt","r");
Num num_1 = fgetNum(fp);
```

**方式二：控制台输入**
```c
printf("请输入两个大数：\n");
Num num_1 = getNum();
Num num_2 = getNum();
```

### 2. 选择运算
程序运行后会提示选择运算类型：
```
请输入您要进行的运算：(+-*/)
```
输入对应的运算符即可进行运算。

### 3. 查看结果
运算结果将：
- 在控制台显示
- 保存到`output/answer.txt`文件中

## 性能特点

### 整数表示范围
- **int**：最多10位数字（2147483647）
- **long long**：最多19位数字（9223372036854775807）
- **本库**：理论上无限，受内存大小限制

---

欢迎大家提交issue和改进建议。

本项目仅供学习和交流使用。

---
**作者**：浙江大学学生 - 绿意不息  
**版本**：1.0  
**核心代码完成日期**：2025年11月4日  
**开源发布日期**：2026年1月1日  
**文档更新日期**：2026年1月2日

## 附录：项目演进截图

### 第一代：基础实现（2025年9月）
![初始项目结构](./docs/20260102132642.png)
*项目初期的文件夹结构，从最简单的十进制链表开始*

### 第二代：万进制优化（2025年9月-10月）
![新版文件夹结构](./docs/20260102132740.png)
*"新版"文件夹结构，引入万进制和Karatsuba算法*

### 第三代：高级算法探索（2025年10月-11月）
![最终版文件夹](./docs/20260102134057.png)
*"最终版"文件夹，包含完整的错误处理模块*

### 第四代：工程化探索（2025年11月）
![最终版PLUS文件夹](./docs/20260102134445.png)
*"最终版PLUS版本"文件夹，探索DFT/NTT算法*

*注：以上为开发过程中的历史版本截图，当前项目结构请参考GitHub仓库主目录。*
